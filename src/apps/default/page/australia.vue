<template>
  <div class="l-body">
    <div class="l-swiper">
      <div class="l-swiper-item l-flex-vhc">
        <img style="width: 4.266667rem" src="~assets/imgs/temp-028.jpg">
        <br><br>
        <p>曾梦想仗剑走天涯</p>
        <p>看一看世界的繁华</p>
        <p>年少的心总有些轻狂</p>
        <p>如今你四海为家</p>
        <p class="l-fsize-l"><b>艾臣欠你一个温暖安全的家</b></p>
        <img style="max-width:90%;" src="~assets/imgs/temp-029.jpg">
      </div>
      <div class="l-swiper-item l-flex-vhc">
        <p>生活让我们磨平菱角</p>
        <p>让我们变的百折不挠</p>
        <p>而我们想要的无非是一个单纯而又清澈的空间</p>
        <p>日复一日的劳作让我们失去自我</p>
        <br>
        <p>这时，我才发现</p>
        <p>人生就是旅途</p>
        <p>不管我们漂到哪</p>
        <p>最终还是会回到<b class="l-fsize-l">温暖</b>的地方</p>
        <br>
        <img style="max-width:90%;" src="~assets/imgs/temp-030.jpg">
      </div>
      <div class="l-swiper-item l-flex-vhc">
        <p>我相信万物之间的灵性</p>
        <p>在这个浮光掠影的时代</p>
        <p>保持自己的精神世界是一件光荣的事</p>
        <br>
        <p>最起码</p>
        <p>这是在尊重自己</p>
        <br>
        <p><b class="l-fsize-l">艾臣智能门窗</b></p>
        <p>期待与你相遇</p>
        <br>
        <img style="max-width:90%;" src="~assets/imgs/temp-031.jpg">
      </div>
      <div class="l-swiper-item l-flex-vhc">
        <p>门里门外的宁静与繁华</p>
        <p>我在窗前看着街道上的行人</p>
        <p>忙碌仓促的脚步不曾停歇</p>
        <p>我想</p>
        <p>他们累了</p>
        <p>回到家也没个安静港湾休息</p>
        <p>在城市中生活的人们对宁静生活是无比的渴望</p>
        <p>每个家庭都渴望去追求健康宁静的生活</p>
        <br>
        <p><b class="l-fsize-l">艾臣安全门窗</b></p>
        <p><b class="l-fsize-l">还你一个自然纯粹的空间</b></p>
        <br>
        <img style="max-width:90%;" src="~assets/imgs/temp-032.jpg">
      </div>
      <div class="l-swiper-item l-flex-vhc">
        <p>轻轻地关上一扇窗</p>
        <p>带进宁静的气息</p>
        <p>台头看着天空</p>
        <p>不禁地感叹：<b class="l-fsize-l">家</b></p>
        <p>因<b class="l-fsize-l">艾臣</b>，而宁静！</p>
        <br>
        <br>
        <br>
        <img style="max-width:90%;" src="~assets/imgs/temp-033.jpg">
      </div>
      <div class="l-swiper-item l-flex-vhc">
        <p>渔灯暗</p>
        <p>客梦回</p>
        <p>一声声滴人心碎</p>
        <p>孤舟五更家万里</p>
        <p>是离人几行情泪</p>
        <p><b class="l-fsize-l">家</b></p>
        <p>是永远的<b class="l-fsize-l">港湾</b>却也是永远的牵挂</p>
        <br>
        <br>
        <img style="max-width:90%;" src="~assets/imgs/temp-034.jpg">
      </div>
      <div class="l-swiper-item l-flex-vhc">
        <p>我们爱的</p>
        <p>就是那写满古老故事的<b class="l-fsize-l">木质门窗</b></p>
        <p>岁月的年轮清晰的印在它们<b class="l-fsize-l">精致</b>花纹上</p>
        <p>仍流淌着时间的痕迹</p>
        <br>
        <br>
        <br>
        <img style="max-width:90%;" src="~assets/imgs/temp-035.jpg">
      </div>
      <div class="l-swiper-item l-flex-vhc">
        <p>山一程</p>
        <p>水一程</p>
        <p>身向榆关那畔行</p>
        <p>夜深千帐灯</p>
        <p>走进家庭你就会发现</p>
        <p>这里不仅有我们一生的<b class="l-fsize-l">牵挂</b>和<b class="l-fsize-l">归宿</b></p>
        <p>也有我们难言的酸楚和困惑</p>
        <p>我想，每个人都有个家吧</p>
        <br>
        <br>
        <img style="max-width:90%;" src="~assets/imgs/temp-036.jpg">
      </div>
      <div class="l-swiper-item l-flex-vhc">
        <p><b class="l-fsize-l">《自在》</b></p>
        <p>杲杲冬日光，明暖真可爱。</p>
        <p>移榻向阳坐，拥裘仍解带。</p>
        <p>小奴捶我足，小婢搔我背。</p>
        <p>自问我为谁，胡然独安泰？</p>
        <p>安泰良有以，与君论梗概。</p>
        <p>心了事未了，饥寒迫于外。</p>
        <p>事了心未了，念虑煎于内。</p>
        <p>我今实多幸，事与心和会。</p>
        <p>内外及中间，了然无一碍。</p>
        <p>所以日阳中，向君言自在。</p>
        <br>
        <img style="max-width:90%;" src="~assets/imgs/temp-037.jpg">
      </div>
    </div>

    <img id="audio-btn" @click="playAudio" style="position:absolute;top:5%;right:5%;z-index:1;width:30px;" src="~assets/imgs/audio_ico.png" alt="播放音乐">
  </div>
</template>
<script>
import config from '../config'
import Swiper from 'iswiper'

const musicfile = require('assets/imgs/the-old-you.mp3')
function createAudio(){
  let audioBtn = document.getElementById('audio-btn')
  let audio = document.getElementById('audio')
  if(!audio){
    audio = document.createElement('audio')
    audio.id = 'audio'
    audio.style.display = 'none'
    audio.loop = true
    audio.autoplay = false
    audio.volume = 0.8
    audio.src = musicfile
    document.body.appendChild(audio)
  }

  document.addEventListener('touchstart', function touch(){ 
    document.removeEventListener('touchstart', touch)
    audioBtn.className = 'l-spin'
    audio.paused && audio.play()
  }, false)
  // audio.load()
  // audio.play()
}

export default {
  components: {
  },
  events: {
    'hook:ready': function() {
      let self = this
      self.$nextTick(()=>{
        setTimeout(()=>{
          let swiper = new Swiper({
            container: '.l-swiper',
            item: '.l-swiper-item',
            direction: 'vertical',
            activeClass: 'l-swiper-active'
          })
          createAudio()
          this.playAudio(true)
        }, 1000)
      })
    },
    'hook:beforeDestroy': function() {
      this.playAudio(false)
    }
  },
  data() {
    return {

    }
  },
  methods: {
    playAudio(isPlay = true) {
      let audio = document.getElementById('audio')
      let audioBtn = document.getElementById('audio-btn')
      if(audio){
        if(audio.paused){
          if(isPlay){
            audio.play() 
            audioBtn.className = 'l-spin'
          }
        }else{
          audio.pause()
          audioBtn.className = ''
        }
      }
    }
  }
}
</script>
<style scoped lang="less">

.l-center{
  text-align: center;
}
.l-body{
  height: 100%;
  background-color: #336699;
  overflow: hidden;
}
.l-swiper{
  height: 100%;
  overflow: hidden;
}
.l-swiper-item{
  background: #fff url('~assets/imgs/temp-027.jpg') no-repeat center bottom;
  background-size: contain;
  position: relative;
  height: 100%;
  box-sizing: border-box;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
}
.l-swiper-item:after{
  font: normal 22px/1 'iconfont';
  content: '\e66c';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  text-align: center;
}

.l-swiper-item:last-child:after{
  visibility: hidden;
}
.l-swiper-content{
  padding: 0 0.506667rem;
}

.l-swiper-item:nth-child(1){
  p{
    margin-bottom: 0.4rem;
    line-height: 1.4;
  }
  .l-fsize-s p{
    text-indent: 2em;
  }
}
.l-swiper-item:nth-child(2){
}
.l-swiper-item:nth-child(3){
}

</style>
